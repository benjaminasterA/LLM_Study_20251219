# main.py

# ---------------------------------------------------------
# [Import 순서 정리]
# 1. 서드파티 라이브러리 (pip install 필요)
# 2. 사용자 정의 모듈 (우리가 만든 파일들)
# ---------------------------------------------------------

# ① 서드파티 라이브러리 (Third-party Libraries)
import streamlit as st  # 웹 앱 생성을 위한 스트림릿(Streamlit) 라이브러리입니다. (터미널 설치: pip install streamlit) 🌊

# ② 사용자 정의 모듈 (User-defined Modules)
# [중요] 같은 폴더에 있는 파일 이름과 import 할 이름이 일치해야 합니다.
# 앞서 작성한 파일명: main_adcopy.py, main_ytb.py, main_sns.py 기준
try:
    from adcopy_main_streamlit import main_adcopy  # 광고 카피 생성 화면 함수를 가져옵니다. 📢
    from youtube_main_streamlit import main_ytb        # 유튜브 스크립트 생성 화면 함수를 가져옵니다. 🎬
    from sns_main_streamlit import main_sns        # SNS 포스팅 생성 화면 함수를 가져옵니다. 📱
except ImportError as e:
    # 파일이 없거나 이름이 다를 경우 에러 메시지를 보여줍니다. 🚨
    st.error(f"모듈 임포트 오류: {e}. 파일명이 올바른지 확인해주세요 (예: main_adcopy.py)")

# ---------------------------------------------------------
# [페이지 기본 설정]
# ---------------------------------------------------------
# set_page_config는 반드시 다른 st 명령어보다 가장 먼저 실행되어야 합니다. ⚡
st.set_page_config(
    page_title="콘텐츠 에이전트",  # 브라우저 탭에 표시될 제목(Title)입니다. 🏷️
    page_icon="🤖",            # 브라우저 탭 아이콘(Favicon)입니다. 🤖
    layout="wide"              # 화면을 넓게(Wide) 사용하여 시원하게 보여줍니다. ↔️
)

# ---------------------------------------------------------
# [메인 로직]
# ---------------------------------------------------------
def main():
    
    # 사이드바(Sidebar) 영역 설정
    with st.sidebar:
        st.title("콘텐츠 에이전트!")  # 사이드바 상단 제목 📝
        
        # 메뉴 선택 박스 (Selectbox)
        # 사용자가 선택한 메뉴명을 'menu' 변수에 저장합니다.
        menu = st.selectbox(
            "메뉴선택", 
            ["1.광고 카피", "2.유튜브 스크립트", "3.SNS 포스팅"]
        )
        
        st.info("원하는 서비스를 선택하세요.")  # 하단 안내 메시지 ℹ️

    # -----------------------------------------------------
    # [라우팅 로직] 선택된 메뉴에 따라 해당 모듈의 메인 함수를 실행합니다.
    # -----------------------------------------------------
    if menu == "1.광고 카피":
        main_adcopy()  # 광고 카피 메인 함수 실행 📢
        
    elif menu == "2.유튜브 스크립트":
        main_ytb()     # 유튜브 스크립트 메인 함수 실행 🎬
        
    elif menu == "3.SNS 포스팅":
        main_sns()     # SNS 포스팅 메인 함수 실행 📱

# ---------------------------------------------------------
# [앱 실행]
# ---------------------------------------------------------
if __name__ == "__main__":
    main()